"use strict";(self.webpackChunksql_editor=self.webpackChunksql_editor||[]).push([[431],{229:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(885),s=n(3393),a=n(473),i=n(1734),o=n(7022),l=n(9743),c=n(4457),u=n(3360),d=n(7418),h=n(6144),m=n(4483),x=n(3174),f=n(184),j=[{icon:x.zc,title:"Run Query"},{icon:x.q7m,title:"Export data as CSV"},{icon:x.q7m,title:"Export data as JSON"}];var p=function(){var e=j.map((function(e,t){var n=e.icon,r=e.title;return(0,f.jsxs)(u.Z,{size:"sm",variant:"outline-primary",style:{borderLeft:"none",borderTop:"none",borderBottom:"none",borderRadius:0,padding:"0.5rem"},className:"mr-2 query-button",children:[(0,f.jsx)(m.G,{icon:n})," ",r]},t)}));return(0,f.jsx)(d.Z,{className:"mb-3 mt-3",children:(0,f.jsx)(h.Z,{className:"me-2",children:e})})},g=n(1193),Z=(n(5838),n(1969),function(e){var t=e.defaultQuery;return(0,f.jsx)(g.Rt,{value:t,options:{mode:"sql",theme:"cobalt",lineNumbers:!0}})}),v=n(9485),y=n(2791),b=n(1413),N=n(1358),C=n(4849),P=n(3053),S=n(3063),K=n(8116),q=n(2677),k=n(2469),w=n(2591),L=[5,10,15,20,25],R=function(e){var t=e.columns,n=e.data,r=e.isLoaded,s=e.error,a=e.timeOfRequest,i=e.paginate,c=(0,N.useTable)({columns:t,data:n},N.useGlobalFilter,N.useSortBy,N.usePagination),u=c.getTableProps,d=c.getTableBodyProps,h=c.headerGroups,j=c.page,p=c.rows,g=c.prepareRow,Z=c.canPreviousPage,v=c.canNextPage,y=c.pageCount,R=c.gotoPage,T=c.nextPage,O=c.previousPage,F=c.setGlobalFilter,z=c.setPageSize,H=c.state,M=H.pageIndex,D=H.pageSize;if(!r)return(0,f.jsx)(o.Z,{className:"h-100",children:(0,f.jsxs)(l.Z,{className:"justify-content-center",children:[(0,f.jsx)(C.Z,{animation:"border",role:"status",as:"span"}),"Loading..."]})});if(null!==s)return(0,f.jsx)(o.Z,{className:"h-100",children:(0,f.jsx)(l.Z,{className:"justify-content-center h-100 align-items-center",children:(0,f.jsx)("h4",{className:"text-secondary text-center align-self-center",children:"Could not load results"})})});var E=L.map((function(e){return(0,f.jsx)("option",{value:e,children:e},e)})),G=(0,f.jsx)(P.Z,{label:"No. of entries per page",children:(0,f.jsx)(S.Z.Select,{onChange:function(e){z(parseInt(e.target.value))},defaultValue:D,disabled:0===j.length,id:"numEntriesPerPage",children:E})}),B=(0,f.jsxs)(K.Z,{size:"lg",className:"justify-content-center",children:[(0,f.jsx)(K.Z.First,{disabled:0===M,onClick:function(){return R(0)}}),(0,f.jsx)(K.Z.Prev,{disabled:!Z,onClick:O}),(0,f.jsx)(K.Z.Next,{disabled:!v,onClick:T}),(0,f.jsx)(K.Z.Last,{disabled:M===y-1,onClick:function(){return R(y-1)}})]}),I=(0,f.jsx)(q.Z,{lg:4,children:(0,f.jsxs)(k.Z,{variant:"success",children:[(0,f.jsx)(m.G,{icon:x.LEp})," Fetched"," ",(0,f.jsx)("strong",{children:p.length})," results in"," ",(0,f.jsx)("strong",{children:a/1e3})," seconds"]})}),Q=i?j:p;return(0,f.jsxs)(o.Z,{fluid:!0,className:"h-100",children:[(0,f.jsxs)(l.Z,{children:[a?I:(0,f.jsx)(f.Fragment,{}),(0,f.jsx)(q.Z,{lg:4,children:(0,f.jsx)(P.Z,{label:"Search to filter results",children:(0,f.jsx)(S.Z.Control,{"aria-label":"Text input to filter results",onInput:function(e){F(e.target.value)},id:"filterInput",disabled:0===p.length})})}),(0,f.jsx)(q.Z,{lg:4,children:i?G:(0,f.jsx)(f.Fragment,{})})]}),(0,f.jsx)(l.Z,{style:{maxHeight:"29vh",overflowY:"auto",overflowX:"auto"},className:"mt-3",children:(0,f.jsxs)(w.Z,(0,b.Z)((0,b.Z)({},u()),{},{striped:!0,hover:!0,size:"sm",className:"h-100",children:[(0,f.jsx)("thead",{children:h.map((function(e){return(0,f.jsx)("tr",(0,b.Z)((0,b.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,f.jsxs)("th",(0,b.Z)((0,b.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header")," "]}))}))}))}))}),(0,f.jsx)("tbody",(0,b.Z)((0,b.Z)({},d()),{},{children:Q.map((function(e){return g(e),(0,f.jsx)("tr",(0,b.Z)((0,b.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,f.jsx)("td",(0,b.Z)((0,b.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),(0,f.jsx)(l.Z,{className:"mt-2",children:(0,f.jsx)(q.Z,{children:i?B:(0,f.jsx)(f.Fragment,{})})})]})};var T=function(e){var t=e.result,n=e.isLoaded,r=e.error,s=e.timeOfRequest,a=(0,y.useMemo)((function(){return t}),[t]),i=(0,y.useMemo)((function(){return 0===t.length?[]:Object.keys(t[0]).map((function(e){return{Header:e,accessor:e,defaultCanSort:!0}}))}),[t]);return(0,f.jsx)(R,{columns:i,data:a,isLoaded:n,error:r,paginate:!0,timeOfRequest:s})},O=n(9517);var F=function(e){var t=(0,y.useMemo)((function(){return(new Date).getTime()}),[]),n=(0,y.useState)((new Date).getTime()),s=(0,r.Z)(n,2),a=s[0],i=s[1],o=(0,y.useState)([]),l=(0,r.Z)(o,2),u=l[0],d=l[1],h=(0,y.useState)(!1),m=(0,r.Z)(h,2),x=m[0],f=m[1],j=(0,y.useState)(null),p=(0,r.Z)(j,2),g=p[0],Z=p[1],v="https://api.github.com/repos/graphql-compose/graphql-compose-examples/contents/examples/northwind/data/csv/".concat(e,".csv");return(0,y.useEffect)((function(){-1===O.M.indexOf(e)?f(!0):fetch(v).then((function(e){return e.json()})).then((function(e){var t=(0,c.bW)(atob(e.content));d(t.map((function(e){return Object.keys(e).forEach((function(t){e[t]=(0,c.Dy)(t).processFn(e[t])})),e}))),f(!0),i((new Date).getTime())}),(function(e){f(!0),Z(e),i((new Date).getTime())}))}),[v,e]),{error:g,isLoaded:x,result:u,timeOfRequest:a-t}};var z=function(e){var t=e.result,n=e.isLoaded,r=e.error,s=(0,y.useMemo)((function(){return 0===t.length?[]:Object.keys(t[0]).map((function(e){return{column:e,type:(0,c.Dy)(e).type}}))}),[t]),a=(0,y.useMemo)((function(){return[{Header:"Column",accessor:"column",defaultCanSort:!0},{Header:"Type",accessor:"type",defaultCanSort:!0}]}),[]);return(0,f.jsx)(R,{columns:a,data:s,isLoaded:n,error:r})},H=function(e){var t=e.tab,n=F(t.title),r=n.result,s=n.isLoaded,a=n.error,o=n.timeOfRequest;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{}),(0,f.jsx)(l.Z,{style:{width:"100%",height:"20vh"},children:(0,f.jsx)(Z,{defaultQuery:t.defaultQuery})}),(0,f.jsx)("hr",{}),(0,f.jsxs)(v.Z,{defaultActiveKey:"results",className:"mb-3",children:[(0,f.jsx)(i.Z,{eventKey:"results",title:"Results",children:(0,f.jsx)(T,{result:r,isLoaded:s,error:a,tab:t,timeOfRequest:o})}),(0,f.jsx)(i.Z,{eventKey:"columns",title:"Columns",children:(0,f.jsx)(z,{result:r,isLoaded:s,error:a,tab:t})})]})]})};var M=function(e){var t=e.tabs.map((function(t){return(0,f.jsx)(s.Z.Item,{children:(0,f.jsxs)(s.Z.Link,{eventKey:t.eventKey,active:e.activeKey===t.eventKey,href:t.href,children:[t.title," ",(0,f.jsx)(a.Z,{style:{fontSize:"0.5rem"},onClick:function(n){n.stopPropagation();var s=(0,c.on)(t.eventKey,e.tabs),a=(0,r.Z)(s,2),i=a[0],o=a[1];e.setTabs(i),e.setActiveKey(o)}})]})},t.eventKey)})),n=e.tabs.map((function(t){return(0,f.jsx)(i.Z.Pane,{eventKey:t.eventKey,active:e.activeKey===t.eventKey,children:(0,f.jsx)(H,{tab:t})},t.eventKey)}));return 0===e.tabs.length?(0,f.jsx)(o.Z,{className:"h-100",children:(0,f.jsx)(l.Z,{className:"justify-content-center h-100 align-items-center",children:(0,f.jsx)("h4",{className:"text-secondary text-center align-self-center",children:"Nothing to display. Begin a new query or click on one of the tables"})})}):(0,f.jsxs)(i.Z.Container,{onSelect:function(t){e.setActiveKey(null===t?"":t)},children:[(0,f.jsx)(l.Z,{children:(0,f.jsx)(s.Z,{variant:"tabs",children:t})}),(0,f.jsx)(i.Z.Content,{children:n})]})}},9517:function(e,t,n){n.d(t,{M:function(){return r}});var r=["categories","customers","employee_territories","employees","order_details","territories"]}}]);
//# sourceMappingURL=431.f69ccc63.chunk.js.map